{"version":3,"file":"pages/index/index.js","mappings":";;;;;;;;;;;;;;;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AAAA;AAOA;AACA;AAGA;AACA;AACA;AAAA;AAOA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;ACvQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACJA;AACA;AACA;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1BA;AACA;AACA;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://wx-Fruit/._src_pages_index_index.tsx","webpack://wx-Fruit/._src_pages_index_fruit.jsx","webpack://wx-Fruit/./src/pages/index/index.tsx?743a","webpack://wx-Fruit/._node_modules_@babel_runtime_helpers_esm_arrayLikeToArray.js","webpack://wx-Fruit/._node_modules_@babel_runtime_helpers_esm_arrayWithHoles.js","webpack://wx-Fruit/._node_modules_@babel_runtime_helpers_esm_iterableToArrayLimit.js","webpack://wx-Fruit/._node_modules_@babel_runtime_helpers_esm_nonIterableRest.js","webpack://wx-Fruit/._node_modules_@babel_runtime_helpers_esm_slicedToArray.js","webpack://wx-Fruit/._node_modules_@babel_runtime_helpers_esm_unsupportedIterableToArray.js"],"sourcesContent":["import Fruit from \"./fruit\";\nimport \"./index.scss\";\n\nexport default function Index() {\n  return (\n    <>\n      <Fruit />\n    </>\n  );\n}\n","import { View, Image, Button } from \"@tarojs/components\";\r\nimport { useState } from \"react\";\r\nimport Taro from \"@tarojs/taro\";\r\nimport A from \"../../image/jiantou.png\";\r\nimport Ad from \"../../image/add.png\";\r\nimport Le from \"../../image/reduce.png\";\r\nimport { window } from \"@tarojs/runtime\";\r\n\r\nexport default function Fruit() {\r\n  const fruitList = [\r\n    {\r\n      id: 1,\r\n      text: \"ËìùËéìÂà∞Ë¥ß‚ÄºÔ∏è‚ÄºÔ∏èÈ´òÂìÅË¥®ËìùËéìü´êËØ±‰∫∫ÁöÑËìùËâ≤Â∞èÊµÜÊûúÔºåÁöÆËñÑ„ÄÅËÇâËÑÜ„ÄÅÂë≥ÁîúÔºÅËê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"ËìùËéì\",\r\n      price: \"10\",\r\n      count: 0,\r\n    },\r\n    {\r\n      id: 2,\r\n      text: \"Ëê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"ËçâËéì\",\r\n      price: \"100\",\r\n      count: 0,\r\n    },\r\n    {\r\n      id: 3,\r\n      text: \"Ëê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"banana\",\r\n      price: \"10\",\r\n      count: 0,\r\n    },\r\n    {\r\n      id: 4,\r\n      text: \"Ëê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"ÂÆÅÂ§èÂ§ßË•øÁìú\",\r\n      price: \"10\",\r\n      count: 0,\r\n    },\r\n    {\r\n      id: 5,\r\n      text: \"Ëê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"‰ªô‰∫∫ÁêÉ\",\r\n      price: \"10\",\r\n      count: 0,\r\n    },\r\n    {\r\n      id: 6,\r\n      text: \"Ëê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"ÁéõÂç°Â∑¥Âç°\",\r\n      price: \"10\",\r\n      count: 0,\r\n    },\r\n    {\r\n      id: 7,\r\n      text: \"Ëê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"Êó†Èî°Â∫ïÁªÜ\",\r\n      price: \"10\",\r\n      count: 0,\r\n    },\r\n    {\r\n      id: 8,\r\n      text: \"Ëê•ÂÖª‰∏∞ÂØåÔºå‚ÄúÊµÜÊûú‰πãÁéã‚ÄùÁæéË™âÂèØ‰∏çÊòØÁõñÁöÑÂè£ÊÑüÈ≤úÁîúÔºåÂ§ßÊûúÔºà16‚ûïÔºâÔºö3Áõí55Ôºå6Áõí100\",\r\n      title: \"banan\",\r\n      price: \"10\",\r\n      count: 0,\r\n    },\r\n  ];\r\n  const [List, setList] = useState(fruitList);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n\r\n  function Less(id, text, title, price, count) {\r\n    const oldId = id;\r\n    const oldText = text;\r\n    const oldtitle = title;\r\n    const oldPrice = price;\r\n    const newCount = count - 1;\r\n    const newArray = {\r\n      id: oldId,\r\n      text: oldText,\r\n      title: oldtitle,\r\n      price: oldPrice,\r\n      count: newCount,\r\n    };\r\n    setList((List) => {\r\n      var ListA = JSON.parse(JSON.stringify(List));\r\n      ListA.splice(id - 1, 1, newArray);\r\n      return ListA;\r\n    });\r\n    //ËÆ°ÁÆóÊÄª‰ª∑Ê†º\r\n    var newPrice = -1 * oldPrice;\r\n    setTotalPrice(totalPrice + newPrice);\r\n    //ËÆ°ÁÆóÊÄªÊï∞Èáè\r\n    setTotalCount(totalCount - 1);\r\n  }\r\n\r\n  function Add(id, text, title, price, count) {\r\n    const oldId = id;\r\n    const oldText = text;\r\n    const oldtitle = title;\r\n    const oldPrice = price;\r\n    const newCount = count + 1;\r\n    const newArray = {\r\n      id: oldId,\r\n      text: oldText,\r\n      title: oldtitle,\r\n      price: oldPrice,\r\n      count: newCount,\r\n    };\r\n    setList((List) => {\r\n      var ListA = JSON.parse(JSON.stringify(List));\r\n      ListA.splice(id - 1, 1, newArray);\r\n      return ListA;\r\n    });\r\n    //ËÆ°ÁÆóÊÄª‰ª∑Ê†º\r\n    var newPrice = 1 * oldPrice;\r\n    setTotalPrice(totalPrice + newPrice);\r\n    //ËÆ°ÁÆóÊÄªÊï∞Èáè\r\n    setTotalCount(totalCount + 1);\r\n  }\r\n  function order() {\r\n    var orderArray = [];\r\n    for (var i = 0; i < List.length; i++) {\r\n      var count = List[i].count;\r\n      var title = List[i].title;\r\n      var price = List[i].price;\r\n      if (count) {\r\n        orderArray.push({ count, title, price });\r\n      }\r\n    }\r\n    //Â¶ÇÊûúË¥≠Áâ©ËΩ¶Êó†ÂïÜÂìÅÔºå‰∏çË∑≥ËΩ¨È°µÈù¢\r\n    if (orderArray.length >= 1) {\r\n      Taro.navigateTo({\r\n        url: \"../order/index\",\r\n        events: {\r\n          // ‰∏∫ÊåáÂÆö‰∫ã‰ª∂Ê∑ªÂä†‰∏Ä‰∏™ÁõëÂê¨Âô®ÔºåËé∑ÂèñË¢´ÊâìÂºÄÈ°µÈù¢‰º†ÈÄÅÂà∞ÂΩìÂâçÈ°µÈù¢ÁöÑÊï∞ÊçÆ\r\n          acceptDataFromOpenedPage: function (data) {\r\n            console.log(data);\r\n          },\r\n          someEvent: function (data) {\r\n            console.log(\"--->\", data);\r\n          },\r\n        },\r\n        success: function (res) {\r\n          // ÈÄöËøáeventChannelÂêëË¢´ÊâìÂºÄÈ°µÈù¢‰º†ÈÄÅÊï∞ÊçÆ\r\n          res.eventChannel.emit(\"acceptDataFromOpenerPage\", {\r\n            data: { orderArray, totalPrice },\r\n          });\r\n          jumpClear();\r\n          console.log(\"yiqingkong\");\r\n        },\r\n      });\r\n    } else {\r\n      Taro.showToast({\r\n        title: \"ËØ∑Ê∑ªÂä†ÂïÜÂìÅ\",\r\n        icon: \"error\",\r\n        duration: 2000,\r\n      });\r\n    }\r\n  }\r\n  //ÊâãÂä®Ê∏ÖÁ©∫Ê∏ÖÁ©∫Ë¥≠Áâ©ËΩ¶\r\n  function clear() {\r\n    setTotalCount(0);\r\n    setTotalPrice(0);\r\n    setList(fruitList);\r\n    Taro.showLoading({\r\n      title: \"Â∑≤Ê∏ÖÁ©∫Ë¥≠Áâ©ËΩ¶\",\r\n    });\r\n    setTimeout(function () {\r\n      Taro.hideLoading();\r\n    }, 2000);\r\n  }\r\n  //Ë∑≥ËΩ¨È°µÈù¢Êó∂Ê∏ÖÁ©∫Ë¥≠Áâ©ËΩ¶\r\n  function jumpClear() {\r\n    setTotalCount(0);\r\n    setTotalPrice(0);\r\n    setList(fruitList);\r\n  }\r\n  return (\r\n    <>\r\n      <view className=\"container\">\r\n        <view className=\"list\">\r\n          {List.map((item) => {\r\n            return (\r\n              <view key={item.id}>\r\n                <view className=\"Number\">\r\n                  <Image src={A} className=\"arrow\"></Image>\r\n                </view>\r\n                <view className=\"count\">\r\n                  <text>\r\n                    {item.id}.{item.title}\r\n                  </text>\r\n                  <text className=\"countText\">Ë¥≠‰π∞Êï∞Èáè:{item.count}</text>\r\n                </view>\r\n                <view className=\"price\">\r\n                  Âçï‰ª∑:{item.price}\r\n                  <view className=\"countBtn\">\r\n                    <Image\r\n                      src={Le}\r\n                      className=\"btn\"\r\n                      onClick={() =>\r\n                        Less(\r\n                          item.id,\r\n                          item.text,\r\n                          item.title,\r\n                          item.price,\r\n                          item.count\r\n                        )\r\n                      }\r\n                    ></Image>\r\n                    <Image\r\n                      src={Ad}\r\n                      className=\"btn\"\r\n                      onClick={() =>\r\n                        Add(\r\n                          item.id,\r\n                          item.text,\r\n                          item.title,\r\n                          item.price,\r\n                          item.count\r\n                        )\r\n                      }\r\n                    ></Image>\r\n                  </view>\r\n                </view>\r\n                <view className=\"content\">{item.text}</view>\r\n              </view>\r\n            );\r\n          })}\r\n        </view>\r\n        <view className=\"total\">\r\n          <view className=\"content\">\r\n            <view className=\"totalP\">ÂΩìÂâçÊÄª‰ª∑Ê†º:{totalPrice}</view>\r\n            <view className=\"totalC\">Ë¥≠Áâ©ËΩ¶ÂïÜÂìÅÊÄªÊï∞:{totalCount}</view>\r\n          </view>\r\n          <view className=\"totalBtn\">\r\n            <view className=\"totalBtnOrder\">\r\n              <Button\r\n                size=\"mini\"\r\n                type=\"default\"\r\n                onClick={() => {\r\n                  order();\r\n                }}\r\n              >\r\n                ‰∏ãÂçï\r\n              </Button>\r\n            </view>\r\n            <view className=\"totalBtnClear\">\r\n              <Button\r\n                size=\"mini\"\r\n                type=\"warn\"\r\n                onClick={() => {\r\n                  clear();\r\n                }}\r\n              >\r\n                Ê∏ÖÁ©∫\r\n              </Button>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </>\r\n  );\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"ÊãºÊûúÂõ¢\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/index/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}"],"names":[],"sourceRoot":""}